{
    "contents" : "setwd('~/Current/Courses/LearningCourse/Pima')\nwdat<-read.csv('data.txt', header=FALSE)\nlibrary(klaR)\nlibrary(caret)\nbigx<-wdat[,-c(9)]\nbigy<-wdat[,9]\nnbx<-bigx\nfor (i in c(3, 4, 6, 8))# for i in 3,4,6,8 \n{vw<-bigx[, i]==0 #whether entry in bigx in that col is 0\n nbx[vw, i]=NA #replace with NA (NA+1=NA)\n}\ntrscore<-array(dim=10)\ntescore<-array(dim=10)\nfor (wi in 1:10)\n{wtd<-createDataPartition(y=bigy, p=.8, list=FALSE)\n ntrbx<-nbx[wtd, ]\n ntrby<-bigy[wtd]\n trposflag<-ntrby>0\n ptregs<-ntrbx[trposflag, ]\n ntregs<-ntrbx[!trposflag,]\n ntebx<-nbx[-wtd, ]\n nteby<-bigy[-wtd]\n ptrmean<-sapply(ptregs, mean, na.rm=TRUE) #ignore any NA\n ntrmean<-sapply(ntregs, mean, na.rm=TRUE)\n ptrsd<-sapply(ptregs, sd, na.rm=TRUE)\n ntrsd<-sapply(ntregs, sd, na.rm=TRUE)\n ptroffsets<-t(t(ntrbx)-ptrmean)\n ptrscales<-t(t(ptroffsets)/ptrsd)\n ptrlogs<--(1/2)*rowSums(apply(ptrscales,c(1, 2), function(x)x^2), na.rm=TRUE)-sum(log(ptrsd))\n ntroffsets<-t(t(ntrbx)-ntrmean)\n ntrscales<-t(t(ntroffsets)/ntrsd)\n ntrlogs<--(1/2)*rowSums(apply(ntrscales,c(1, 2), function(x)x^2), na.rm=TRUE)-sum(log(ntrsd))\n lvwtr<-ptrlogs>ntrlogs\n gotrighttr<-lvwtr==ntrby\n trscore[wi]<-sum(gotrighttr)/(sum(gotrighttr)+sum(!gotrighttr))\n pteoffsets<-t(t(ntebx)-ptrmean)\n ptescales<-t(t(pteoffsets)/ptrsd)\n ptelogs<--(1/2)*rowSums(apply(ptescales,c(1, 2), function(x)x^2), na.rm=TRUE)-sum(log(ptrsd))\n nteoffsets<-t(t(ntebx)-ntrmean)\n ntescales<-t(t(nteoffsets)/ntrsd)\n ntelogs<--(1/2)*rowSums(apply(ntescales,c(1, 2), function(x)x^2), na.rm=TRUE)-sum(log(ntrsd))\n lvwte<-ptelogs>ntelogs\n gotright<-lvwte==nteby\n tescore[wi]<-sum(gotright)/(sum(gotright)+sum(!gotright))\n}\n\n",
    "created" : 1454382711883.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3674387023",
    "id" : "591F0850",
    "lastKnownWriteTime" : 1454539362,
    "path" : "C:/Users/harry/projects/aml/assignment1/b.R",
    "project_path" : "b.R",
    "properties" : {
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "type" : "r_source"
}